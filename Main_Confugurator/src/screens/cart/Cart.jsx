import React from 'react';
import styles from '../cart/Cart.module.css'
import styles_g from '../../components/styles/Global.module.css'
import Header from '../home/components/Header/Header'
import { useNavigate } from 'react-router-dom'
import { useState, useEffect } from 'react'
import { useLocation } from 'react-router-dom';


//   const handleCall = () => {
//     window.location.href = `tel:${phoneNumber}`;
//   };

//   return (
//     <div>
//       <button onClick={handleCall}>{phoneNumber}</button>
//     </div>
//   );


const Cart = () => {
    const location = useLocation();

    let myObject = location.state.myObject;
    let myPrice = location.state.price;
    console.log(myObject)
    console.log(myPrice)
    const nav = useNavigate()

    const handleCall = () => {
        let names = myObject.map(item => item.Name);
        console.log(names); 
        let string = names.join(', ');
        console.log(string);

        let json = `Добрый день! Пишу по поводу покупки данной сборки: ${string}. Цена: ${myPrice} тенге.`
        window.location.href = `https://wa.me/87760061908?text=${json}`;
    };
    return (
        <div>
            <Header />
            <section className={`${styles_g.container}`}>
                <div className='shadow-xl mt-2 pt-8 pl-4 pr-4'>
                    <div className='flex items-center justify-between'>
                        <h1 className='text-3xl'>Ваша корзина</h1>

                        <div>
                            <button className={styles.back} onClick={() => handleCall()}>Купить</button>
                            <h1 className={styles.h1_price}>{myPrice} ₸</h1>
                        </div>
                    </div>

                    <div className='flex flex-row justify-between'>
                        <div>

                        </div>

                    </div>
                    <div className={`flex flex-col items-center mt-20`}>
                        <div>

                            {
                                myObject != null ?
                                    myObject.map((Video_card) => (
                                        <div key={Video_card.id}>
                                            <li className='p-4 flex flex-row space-x-12 w-11/12 mt-2 rounded-xl border-2 border-zinc-300 shadow-lg'>
                                                <img src={Video_card.Img_url} className=' w-32' />
                                                <div className='w-full'>
                                                    <h1 className='text-2xl'>Название {Video_card.Name}</h1>
                                                    <p className='text-xl'>Цена: <span className='font-bold'>{Video_card.Price}</span></p>
                                                </div>
                                            </li>
                                        </div>
                                    )) :
                                    <div className='flex flex-col items-center'>
                                        <span className='text-3xl'>Ваша корзина пуста</span>
                                        <span className='my-8 text-sm text-gray-800'>Чтобы оформить заказ, добавьте товары в корзину.</span>
                                        <div className='h-full'>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="413" height="253" viewBox="0 0 413 253" fill="none">
                                                <g clip-path="url(#clip0)">
                                                    <path d="M411.714 253C370.87 221.401 319.709 200.081 263.777 191.355L264.101 189.27C320.377 198.049 371.861 219.504 412.999 251.322L411.714 253Z" fill="#151528" />
                                                    <path d="M1.27245 253L0.0195312 251.353C41.1462 219.535 92.6303 198.08 148.907 189.302L149.23 191.387C93.2776 200.081 42.1172 221.401 1.27245 253Z" fill="#151528" />
                                                    <path d="M54.3136 234.631L53.2695 232.838C64.0509 226.509 75.4658 221.324 87.3277 217.367L87.996 219.337C76.2653 223.249 64.9765 228.374 54.3136 234.631Z" fill="#151528" />
                                                    <path d="M319.857 216.397C316.297 214.699 312.565 213.385 308.727 212.477L309.207 210.444C313.188 211.392 317.059 212.754 320.754 214.51L319.857 216.397Z" fill="#151528" />
                                                    <path d="M206.55 66.1169C189.709 66.1169 172.492 63.4376 172.492 43.5254C172.492 34.5062 176.08 25.8563 182.468 19.4787C188.855 13.1011 197.518 9.51825 206.55 9.51825C215.583 9.51825 224.246 13.1011 230.633 19.4787C237.02 25.8563 240.609 34.5062 240.609 43.5254C240.609 63.3959 223.392 66.1169 206.55 66.1169ZM206.55 11.5929C198.073 11.6039 189.946 14.9721 183.953 20.9585C177.959 26.9449 174.589 35.0607 174.58 43.5254C174.58 61.5507 189.949 64.0319 206.55 64.0319C223.151 64.0319 238.52 61.5507 238.52 43.5254C238.512 35.0607 235.141 26.9449 229.148 20.9585C223.155 14.9721 215.028 11.6039 206.55 11.5929Z" fill="#151528" />
                                                    <path d="M229.051 38.98H226.963C226.963 34.5561 225.203 30.3134 222.07 27.1852C218.937 24.057 214.688 22.2996 210.258 22.2996V20.2145C215.238 20.2283 220.01 22.2098 223.532 25.726C227.053 29.2423 229.038 34.0073 229.051 38.98Z" fill="#151528" />
                                                    <path d="M207.607 204.742H163.609V137.603H165.698V202.656H205.519V163.77H207.607V204.742Z" fill="#151528" />
                                                    <path d="M249.507 204.742H205.52V163.77H207.608V202.656H247.419V137.603H249.507V204.742Z" fill="#151528" />
                                                    <path d="M206.552 87.0404C194.994 87.0349 183.912 82.4488 175.738 74.2897C167.565 66.1305 162.969 55.0656 162.961 43.5254C162.958 36.1618 164.826 28.9177 168.39 22.4712C171.954 16.0246 177.098 10.5864 183.34 6.66525C189.582 2.74415 196.718 0.468458 204.081 0.0511124C211.444 -0.366233 218.792 1.08842 225.439 4.27896C232.085 7.46949 237.812 12.2916 242.084 18.294C246.356 24.2963 249.033 31.2828 249.864 38.5994C250.696 45.9161 249.655 53.3238 246.838 60.1292C244.022 66.9347 239.522 72.9154 233.761 77.5117C226.056 83.7129 216.448 87.0775 206.552 87.0404ZM206.552 2.08504C197.945 2.078 189.55 4.74322 182.528 9.7116C175.506 14.68 170.205 21.7056 167.36 29.8155C164.514 37.9254 164.264 46.7182 166.645 54.9761C169.026 63.234 173.919 70.5484 180.648 75.9062C186.75 80.7737 194.104 83.8231 201.864 84.7039C209.624 85.5848 217.476 84.2613 224.516 80.8857C231.557 77.51 237.501 72.2192 241.665 65.6214C245.828 59.0235 248.043 51.3864 248.054 43.588C248.06 32.5898 243.691 22.0397 235.908 14.257C228.126 6.47425 217.566 2.09609 206.552 2.08504Z" fill="#151528" />
                                                    <path d="M137.57 132.463V89.3757C137.573 85.7379 139.022 82.2498 141.598 79.6775C144.174 77.1052 147.667 75.6588 151.311 75.6561H180.368L180.649 75.8854C188.003 81.756 197.138 84.9541 206.553 84.9541C215.968 84.9541 225.103 81.756 232.457 75.8854L232.739 75.6561H261.796C265.439 75.6588 268.933 77.1052 271.509 79.6775C274.085 82.2498 275.534 85.7379 275.536 89.3757V134.548H273.573V129.336H273.5V89.3757C273.498 86.2909 272.269 83.3332 270.084 81.1519C267.9 78.9705 264.938 77.7439 261.848 77.7411H233.47C225.795 83.7661 216.316 87.0415 206.553 87.0415C196.791 87.0415 187.311 83.7661 179.637 77.7411H151.311C148.222 77.7466 145.261 78.9742 143.077 81.1549C140.893 83.3356 139.664 86.2917 139.658 89.3757V130.378" fill="#151528" />
                                                    <path d="M271.955 145.37H251.648C250.699 145.367 249.789 144.989 249.118 144.319C248.447 143.649 248.069 142.741 248.066 141.794V132.922C248.066 131.973 248.443 131.062 249.115 130.39C249.786 129.717 250.697 129.338 251.648 129.336H271.966C272.916 129.338 273.827 129.717 274.499 130.39C275.17 131.062 275.547 131.973 275.547 132.922V141.794C275.544 142.743 275.164 143.653 274.491 144.323C273.818 144.993 272.906 145.37 271.955 145.37ZM251.648 131.421C251.251 131.423 250.871 131.583 250.591 131.864C250.312 132.145 250.155 132.526 250.155 132.922V141.794C250.155 142.189 250.312 142.568 250.592 142.848C250.872 143.128 251.252 143.285 251.648 143.285H271.966C272.362 143.285 272.741 143.128 273.021 142.848C273.301 142.568 273.459 142.189 273.459 141.794V132.922C273.459 132.526 273.302 132.145 273.022 131.864C272.742 131.583 272.363 131.423 271.966 131.421H251.648Z" fill="#151528" />
                                                    <path d="M150.037 76.9488H147.949V55.4623C147.949 49.9891 151.812 45.5479 156.563 45.5479H164.122V47.633H156.563C152.961 47.633 150.037 51.1463 150.037 55.4623V76.9488Z" fill="#151528" />
                                                    <path d="M264.853 76.9488H262.764V55.4623C262.764 51.1463 259.841 47.633 256.249 47.633H248.68V45.5479H256.249C260.989 45.5479 264.853 49.9891 264.853 55.4623V76.9488Z" fill="#151528" />
                                                    <path d="M207.596 204.335H205.507C205.507 196.766 196.58 190.605 185.597 190.605C174.613 190.605 165.686 196.766 165.686 204.335H163.598C163.598 195.609 173.464 188.52 185.597 188.52C197.729 188.52 207.596 195.609 207.596 204.335Z" fill="#151528" />
                                                    <path d="M249.557 204.335H247.468C247.468 196.766 238.531 190.605 227.558 190.605C216.584 190.605 207.647 196.766 207.647 204.335H205.559C205.559 195.609 215.425 188.52 227.558 188.52C239.69 188.52 249.557 195.609 249.557 204.335Z" fill="#151528" />
                                                    <path d="M161.47 144.963H141.152C140.203 144.96 139.293 144.583 138.622 143.913C137.951 143.243 137.573 142.335 137.57 141.387V132.505C137.573 131.557 137.951 130.649 138.622 129.979C139.293 129.309 140.203 128.932 141.152 128.929H161.47C162.418 128.932 163.328 129.309 163.999 129.979C164.67 130.649 165.048 131.557 165.051 132.505V141.387C165.048 142.335 164.67 143.243 163.999 143.913C163.328 144.583 162.418 144.96 161.47 144.963ZM141.152 131.014C140.756 131.014 140.376 131.171 140.096 131.451C139.816 131.73 139.658 132.11 139.658 132.505V141.387C139.658 141.783 139.816 142.162 140.096 142.441C140.376 142.721 140.756 142.878 141.152 142.878H161.47C161.866 142.878 162.245 142.721 162.525 142.441C162.805 142.162 162.963 141.783 162.963 141.387V132.505C162.963 132.11 162.805 131.73 162.525 131.451C162.245 131.171 161.866 131.014 161.47 131.014H141.152Z" fill="#151528" />
                                                    <path d="M271.955 145.37H251.648C250.699 145.367 249.789 144.989 249.118 144.319C248.447 143.649 248.069 142.741 248.066 141.794V132.922C248.066 131.973 248.443 131.062 249.115 130.39C249.786 129.717 250.697 129.338 251.648 129.336H271.966C272.916 129.338 273.827 129.717 274.499 130.39C275.17 131.062 275.547 131.973 275.547 132.922V141.794C275.544 142.743 275.164 143.653 274.491 144.323C273.818 144.993 272.906 145.37 271.955 145.37ZM251.648 131.421C251.251 131.423 250.871 131.583 250.591 131.864C250.312 132.145 250.155 132.526 250.155 132.922V141.794C250.155 142.189 250.312 142.568 250.592 142.848C250.872 143.128 251.252 143.285 251.648 143.285H271.966C272.362 143.285 272.741 143.128 273.021 142.848C273.301 142.568 273.459 142.189 273.459 141.794V132.922C273.459 132.526 273.302 132.145 273.022 131.864C272.742 131.583 272.363 131.423 271.966 131.421H251.648Z" fill="#151528" />
                                                    <path d="M240.16 130.347H171.375V114.636H240.16V130.347ZM173.484 128.262H238.071V116.721H173.463L173.484 128.262Z" fill="#151528" />
                                                    <path d="M188.782 125.312L189.001 123.862H188.375V123.414H189.075L189.221 122.309H188.563V121.777H189.283L189.482 120.328H189.92L189.732 121.777H190.526L190.724 120.328H191.173L190.985 121.777H191.612V122.226H190.912L190.776 123.331H191.434V123.862H190.714L190.515 125.353H190.046L190.244 123.862H189.45L189.252 125.353L188.782 125.312ZM190.296 123.372L190.442 122.267H189.649L189.513 123.372H190.296Z" fill="#151528" />
                                                    <path d="M193.656 120.995L192.789 121.454L192.664 120.943L193.708 120.37H194.272V125.312H193.625L193.656 120.995Z" fill="#151528" />
                                                    <path d="M196.109 125.312V124.905L196.642 124.394C197.905 123.185 198.469 122.549 198.479 121.809C198.495 121.677 198.48 121.543 198.436 121.418C198.392 121.292 198.32 121.179 198.225 121.085C198.131 120.992 198.016 120.921 197.89 120.879C197.764 120.836 197.63 120.822 197.498 120.839C197.113 120.857 196.745 121.004 196.454 121.256L196.245 120.787C196.637 120.459 197.133 120.282 197.644 120.287C197.841 120.269 198.04 120.293 198.227 120.358C198.414 120.423 198.585 120.527 198.728 120.663C198.871 120.799 198.984 120.964 199.058 121.148C199.132 121.331 199.166 121.528 199.158 121.725C199.158 122.632 198.5 123.372 197.456 124.373L197.059 124.738H199.283V125.291L196.109 125.312Z" fill="#151528" />
                                                    <path d="M200.184 124.54C200.501 124.73 200.86 124.837 201.228 124.853C202.085 124.853 202.356 124.311 202.346 123.894C202.346 123.206 201.719 122.903 201.072 122.903H200.696V122.403H201.072C201.552 122.403 202.116 122.153 202.116 121.569C202.116 121.173 201.865 120.818 201.249 120.818C200.875 120.819 200.51 120.935 200.205 121.152L200.038 120.662C200.425 120.415 200.874 120.284 201.333 120.287C202.304 120.287 202.742 120.86 202.742 121.465C202.738 121.73 202.646 121.986 202.482 122.195C202.319 122.404 202.091 122.554 201.834 122.622C202.14 122.667 202.42 122.82 202.623 123.053C202.826 123.286 202.939 123.585 202.941 123.894C202.941 124.676 202.325 125.374 201.135 125.374C200.681 125.378 200.235 125.263 199.84 125.04L200.184 124.54Z" fill="#151528" />
                                                    <path d="M206 125.312V123.967H203.703V123.518L205.917 120.391H206.637V123.456H207.326V123.988H206.637V125.332L206 125.312ZM206 123.435V121.777C206 121.517 206 121.267 206 121.006C205.854 121.287 205.729 121.506 205.593 121.736L204.382 123.414H206V123.435Z" fill="#151528" />
                                                    <path d="M210.789 120.933H208.91L208.712 122.205C208.847 122.192 208.984 122.192 209.119 122.205C209.484 122.202 209.843 122.292 210.163 122.465C210.386 122.594 210.569 122.779 210.694 123.003C210.819 123.227 210.881 123.481 210.873 123.737C210.869 123.971 210.818 124.202 210.722 124.416C210.625 124.63 210.487 124.821 210.314 124.98C210.141 125.138 209.937 125.259 209.715 125.336C209.494 125.412 209.259 125.443 209.025 125.426C208.595 125.432 208.171 125.328 207.793 125.124L207.96 124.613C208.282 124.783 208.64 124.876 209.004 124.884C209.151 124.902 209.301 124.888 209.442 124.844C209.584 124.799 209.714 124.725 209.825 124.627C209.935 124.528 210.024 124.407 210.084 124.272C210.144 124.136 210.175 123.99 210.174 123.842C210.174 123.206 209.735 122.747 208.754 122.747C208.523 122.75 208.293 122.767 208.064 122.799L208.388 120.432H210.748L210.789 120.933Z" fill="#151528" />
                                                    <path d="M214.572 120.839C214.406 120.82 214.238 120.82 214.071 120.839C213.631 120.9 213.223 121.105 212.911 121.422C212.6 121.739 212.402 122.15 212.348 122.591C212.551 122.344 212.826 122.167 213.135 122.086C213.444 122.005 213.771 122.023 214.069 122.139C214.367 122.255 214.621 122.461 214.793 122.73C214.966 122.998 215.05 123.314 215.032 123.633C215.044 123.856 215.012 124.08 214.935 124.29C214.859 124.5 214.74 124.692 214.587 124.855C214.433 125.018 214.248 125.148 214.043 125.237C213.838 125.326 213.616 125.373 213.392 125.374C212.348 125.374 211.638 124.55 211.638 123.289C211.611 122.464 211.911 121.663 212.474 121.058C212.905 120.643 213.464 120.385 214.061 120.328C214.221 120.315 214.381 120.315 214.541 120.328L214.572 120.839ZM214.384 123.685C214.396 123.541 214.377 123.397 214.33 123.261C214.283 123.124 214.208 122.999 214.11 122.893C214.012 122.788 213.893 122.703 213.76 122.646C213.628 122.588 213.485 122.559 213.34 122.559C213.141 122.559 212.945 122.615 212.777 122.723C212.608 122.83 212.474 122.983 212.39 123.164C212.332 123.254 212.303 123.359 212.307 123.466C212.307 124.279 212.693 124.874 213.351 124.874C214.009 124.874 214.384 124.394 214.384 123.685Z" fill="#151528" />
                                                    <path d="M218.872 120.37V120.808L216.721 125.312H216.021L218.172 120.933H215.75V120.38L218.872 120.37Z" fill="#151528" />
                                                    <path d="M219.508 124.06C219.51 123.764 219.606 123.477 219.782 123.239C219.959 123.001 220.206 122.825 220.489 122.736C220.264 122.65 220.069 122.499 219.93 122.302C219.791 122.106 219.713 121.872 219.706 121.631C219.715 121.443 219.763 121.258 219.846 121.088C219.929 120.918 220.046 120.767 220.19 120.644C220.333 120.521 220.501 120.428 220.682 120.372C220.862 120.316 221.053 120.298 221.241 120.318C221.416 120.296 221.593 120.311 221.762 120.361C221.931 120.411 222.087 120.496 222.222 120.609C222.356 120.723 222.466 120.863 222.543 121.021C222.62 121.179 222.664 121.351 222.671 121.527C222.671 121.78 222.593 122.027 222.447 122.234C222.302 122.441 222.095 122.599 221.857 122.684C222.146 122.754 222.404 122.916 222.592 123.146C222.781 123.375 222.889 123.66 222.901 123.956C222.891 124.163 222.839 124.365 222.747 124.551C222.656 124.737 222.528 124.902 222.371 125.037C222.213 125.171 222.03 125.273 221.832 125.334C221.635 125.396 221.426 125.416 221.22 125.395C220.134 125.395 219.508 124.78 219.508 124.06ZM222.17 124.06C222.17 123.456 221.753 123.164 221.126 123.018C220.875 123.053 220.646 123.179 220.481 123.37C220.316 123.562 220.226 123.808 220.228 124.06C220.224 124.194 220.249 124.327 220.301 124.45C220.354 124.573 220.433 124.683 220.532 124.772C220.631 124.861 220.749 124.928 220.877 124.967C221.005 125.006 221.14 125.017 221.272 124.999C221.397 124.999 221.52 124.974 221.634 124.924C221.748 124.875 221.85 124.802 221.935 124.711C222.019 124.62 222.084 124.512 222.124 124.395C222.165 124.277 222.18 124.153 222.17 124.029V124.06ZM220.322 121.558C220.322 122.048 220.698 122.309 221.272 122.465C221.478 122.418 221.663 122.305 221.799 122.143C221.935 121.981 222.014 121.78 222.024 121.569C222.031 121.459 222.013 121.349 221.973 121.247C221.933 121.144 221.871 121.052 221.792 120.975C221.712 120.899 221.617 120.841 221.513 120.805C221.409 120.768 221.299 120.755 221.189 120.766C221.079 120.756 220.968 120.769 220.863 120.804C220.758 120.839 220.661 120.896 220.58 120.971C220.498 121.045 220.433 121.136 220.389 121.237C220.344 121.339 220.322 121.448 220.322 121.558Z" fill="#151528" />
                                                    <path d="M157.096 97.9869H254.363L259.427 106.202H261.88L255.532 95.9019H155.926L149.578 106.202H152.032L157.096 97.9869Z" fill="#151528" />
                                                    <path d="M151.268 108.287H149.18V130.118H151.268V108.287Z" fill="#151528" />
                                                    <path d="M262.35 108.287H260.262V131.16H262.35V108.287Z" fill="#151528" />
                                                    <path d="M262.349 106.953L261.879 106.202H259.425H152.03H149.576L149.18 106.848V108.287H151.268H260.26H262.349V106.953Z" fill="#151528" />
                                                    <path d="M249.558 136.696H162.898V138.781H249.558V136.696Z" fill="#151528" />
                                                    <path d="M224.845 138.458C222.695 141.258 219.929 143.526 216.761 145.087C213.592 146.648 210.106 147.46 206.573 147.46C203.04 147.46 199.554 146.648 196.386 145.087C193.217 143.526 190.451 141.258 188.302 138.458H185.723C188.02 141.883 191.127 144.691 194.769 146.632C198.411 148.573 202.476 149.589 206.604 149.589C210.733 149.589 214.798 148.573 218.44 146.632C222.082 144.691 225.189 141.883 227.486 138.458H224.845Z" fill="#151528" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0">
                                                        <rect width="413" height="253" fill="white" />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </div>
                                        <button onClick={() => nav('/')} className={`${styles.back} mb-20`}>Вернуться в каталог</button>
                                    </div>
                            }

                        </div>
                    </div>
                </div>
            </section>
        </div>
    );
};

export default Cart;

